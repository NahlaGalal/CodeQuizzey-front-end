(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,a){e.exports=a.p+"static/media/add-circle.dffd1539.svg"},21:function(e,t,a){e.exports=a.p+"static/media/undraw_Choose_bwbs.3408a1cf.svg"},24:function(e,t,a){e.exports=a.p+"static/media/three-dots.a4bab584.svg"},41:function(e,t,a){e.exports=a.p+"static/media/error.626d67d5.svg"},42:function(e,t,a){e.exports=a.p+"static/media/error-500.19ae4d3f.svg"},43:function(e,t,a){e.exports=a.p+"static/media/error-401.09eceecd.svg"},46:function(e,t,a){e.exports=a.p+"static/media/edit.c95d4b10.svg"},47:function(e,t,a){e.exports=a.p+"static/media/delete.38bd7039.svg"},48:function(e,t,a){e.exports=a.p+"static/media/download.ac3265e1.svg"},49:function(e,t,a){e.exports=a.p+"static/media/standing.c5bdb277.svg"},50:function(e,t,a){e.exports=a.p+"static/media/no-quiz.400b399d.svg"},51:function(e,t,a){e.exports=a.p+"static/media/fe_arrow-left.ad687f5a.svg"},52:function(e,t,a){e.exports=a.p+"static/media/fe_arrow-right.1d3da98a.svg"},54:function(e,t,a){e.exports=a.p+"static/media/add-question.40bbdf68.svg"},55:function(e,t,a){e.exports=a(90)},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(40),l=a.n(r),o=a(92),i=a(2),s=a(3),u=a(11),m=a(1),d=a(41),p=a.n(d),b=a(42),E=a.n(b),h=a(43),f=a.n(h),g=a(91),v=function(e){var t=e.location,a=e.status,n=Object(g.a)(["token"]),r=Object(m.a)(n,3)[2];a||(a=t.state?t.state.status:200);return c.a.createElement("div",{className:"Home__no-quiz"},c.a.createElement("img",{src:404===a?p.a:500===a?E.a:f.a,alt:"Error"}),c.a.createElement("h1",null," Sorry, "),404===a?c.a.createElement("p",null," Page Not Found"):401===a?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null," Unotherized User"),c.a.createElement(i.b,{to:"/auth"},c.a.createElement("button",{className:"btn btn__solid",onClick:function(){r("token")}},"Go to Login"))):500===a?c.a.createElement("p",null,"Internal Server Error"):c.a.createElement("p",null,"Error"))},O=function(e){var t=e.children,a=Object(s.h)();switch(Object(u.get)(a.state,"errorStatusCode")){case 404:return c.a.createElement(v,{status:404});case 500:return c.a.createElement(v,{status:500});case 401:return c.a.createElement(v,{status:401});default:return t}},j=a(19),w=a.n(j),q=a(15),x=a.n(q),_=a(20),z=a(45),k=a.n(z).a.create({baseURL:"https://codequizzey-back-end.herokuapp.com/"}),N=function(e){var t=e.url,a=e.method,c=void 0===a?"get":a,r=e.data,l=e.options,o=Object(s.g)(),i=Object(n.useState)(""),u=Object(m.a)(i,2),d=u[0],p=u[1],b=Object(g.a)(["token"]),E=Object(m.a)(b,1)[0];return Object(n.useEffect)((function(){t&&Object(_.a)(x.a.mark((function e(){var a,n,i,s,u,m,d;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"No auth"!==l){e.next=23;break}if("get"!==c){e.next=9;break}return e.next=5,k.get(t);case 5:a=e.sent,p(a.data),e.next=21;break;case 9:if("delete"!==c){e.next=16;break}return e.next=12,k.delete(t);case 12:n=e.sent,p(n.data),e.next=21;break;case 16:if("post"!==c){e.next=21;break}return e.next=19,k.post(t,r);case 19:i=e.sent,p(i.data);case 21:e.next=49;break;case 23:if("get"!==c){e.next=37;break}if("download"!==l){e.next=31;break}return e.next=27,k.get(t,{headers:{Authorization:"Bearer ".concat(E.token),"Content-Type":"application/octet-stream","Content-Disposition":"attachment",filename:"file.xlsx"},responseType:"blob"});case 27:s=e.sent,p(s.data),e.next=35;break;case 31:return e.next=33,k.get(t,{headers:{Authorization:"Bearer ".concat(E.token)}});case 33:u=e.sent,p(u.data);case 35:e.next=49;break;case 37:if("delete"!==c){e.next=44;break}return e.next=40,k.delete(t,{headers:{Authorization:"Bearer ".concat(E.token)}});case 40:m=e.sent,p(m.data),e.next=49;break;case 44:if("post"!==c){e.next=49;break}return e.next=47,k.post(t,r,{headers:{Authorization:"Bearer ".concat(E.token)}});case 47:d=e.sent,p(d.data);case 49:e.next=54;break;case 51:e.prev=51,e.t0=e.catch(0),404!==e.t0.response.status&&401!==e.t0.response.status&&500!==e.t0.response.status||o.replace(o.location.pathname,{errorStatusCode:e.t0.response.status});case 54:case"end":return e.stop()}}),e,null,[[0,51]])})))()}),[t,E.token,o,c,r,l]),{data:d}},y=function(e){var t=e.logout;return c.a.createElement("nav",{className:"Admin_nav"},c.a.createElement("h1",{className:"logo"},c.a.createElement(i.b,{to:"/admin"}," CodeQuizzey ")),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(i.b,{to:"/add-admin"},"Add Admin")," "),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/add-quiz"},"Add Quiz")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/add-circle"},"Add Circle")),c.a.createElement("li",null,c.a.createElement("button",{onClick:t},"Logout"))))},S=a(24),T=a.n(S),C=a(46),F=a.n(C),I=a(47),Q=a.n(I),A=a(48),D=a.n(A),Y=a(49),U=a.n(Y),L=function(e){var t=e.history,a=Object(g.a)(["token"]),r=Object(m.a)(a,3),l=r[0],o=r[2],s=Object(n.useState)(),u=Object(m.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),h=E[0],f=E[1],v=Object(n.useState)({url:"/get-quizzes",method:"get"}),O=Object(m.a)(v,2),j=O[0],q=O[1],x=Object(n.useRef)(null),_=Object(n.useRef)(null),z=N({url:j.url,method:j.method}).data;Object(n.useEffect)((function(){switch(l.token||t.push("/auth"),j.url){case"/get-quizzes":z.data&&(z.data.currentQuiz||null===z.data.currentQuiz)&&p(z.data);break;case"/delete-quiz?quizId=".concat(h):z.isFailed||q({url:"/get-quizzes",method:"get"});break;case"/download?quizId=".concat(h):"string"===typeof z&&w()(z,"file.xlsx");break;case"/logout?token=".concat(l.token):z.isFailed||(o("token"),t.push("/auth"))}}),[l.token,z,t,h,j.url,o]);var k=function(e,t){var a;e.stopPropagation();var n,c=e.currentTarget.offsetLeft,r=e.currentTarget.offsetTop;(f(t||""),(null===(a=x.current)||void 0===a?void 0:a.style)&&x.current.offsetWidth)&&(x.current.style.left==="".concat(c-x.current.offsetWidth,"px")?(x.current.style.left="-1000px",x.current.style.top="-1000px"):(x.current.style.left="".concat(c-x.current.offsetWidth,"px"),x.current.style.top="".concat(r,"px")),(null===(n=_.current)||void 0===n?void 0:n.style)&&_.current.offsetWidth&&(_.current.style.left="-1000px",_.current.style.top="-1000px"))};return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){q({url:"/logout?token=".concat(l.token),method:"get"})}}),c.a.createElement("main",{className:"Quizzes",onClick:function(){var e,t;(null===(e=x.current)||void 0===e?void 0:e.style)&&x.current.offsetWidth&&(x.current.style.left="-1000px",x.current.style.top="-1000px"),(null===(t=_.current)||void 0===t?void 0:t.style)&&_.current.offsetWidth&&(_.current.style.left="-1000px",_.current.style.top="-1000px")}},c.a.createElement("section",{className:"Quizzes__section"},c.a.createElement("h2",null,"Current Quiz"),(null===d||void 0===d?void 0:d.currentQuiz)?c.a.createElement("div",{className:"Quizzes__section__box current"},c.a.createElement("h3",null,c.a.createElement(i.b,{to:"/quiz/".concat(d.currentQuiz._id)},null===d||void 0===d?void 0:d.currentQuiz.name)),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"Time remaining: "),function(e){if(e){var t=new Date(new Date(e).getTime()-(new Date).getTime()),a=[];return t.getUTCDate()&&a.push("".concat(t.getUTCDate()-1,"d")),t.getHours()&&a.push("".concat(t.getUTCHours(),"h")),t.getMinutes()&&a.push("".concat(t.getUTCMinutes(),"m")),c.a.createElement("span",null,a.join(", "))}}(null===d||void 0===d?void 0:d.currentQuiz.endDate)),c.a.createElement("button",{onClick:function(e){return k(e,null===d||void 0===d?void 0:d.currentQuiz._id)}},c.a.createElement("img",{src:T.a,alt:"Menu icon"}))):c.a.createElement("p",{className:"Quizzes__empty"}," No quizzes currently ")),c.a.createElement("section",{className:"Quizzes__section"},c.a.createElement("h2",null,"Upcoming Quizzes"),c.a.createElement("div",{className:"Quizzes__section__container"},(null===d||void 0===d?void 0:d.upcomingQuizzes.length)?d.upcomingQuizzes.map((function(e){return c.a.createElement("div",{className:"Quizzes__section__box vertical",key:e._id},c.a.createElement("div",{className:"Quizzes__section__box__header"},c.a.createElement("h3",null,c.a.createElement(i.b,{to:"/quiz/".concat(e._id)},e.name)),c.a.createElement("button",{onClick:function(t){return function(e,t){var a;e.stopPropagation();var n,c=e.currentTarget.offsetLeft,r=e.currentTarget.offsetTop;(f(t),(null===(a=_.current)||void 0===a?void 0:a.style)&&_.current.offsetWidth)&&(_.current.style.left==="".concat(c-_.current.offsetWidth,"px")?(_.current.style.left="-1000px",_.current.style.top="-1000px"):(_.current.style.left="".concat(c-_.current.offsetWidth,"px"),_.current.style.top="".concat(r,"px")),(null===(n=x.current)||void 0===n?void 0:n.style)&&x.current.offsetWidth&&(x.current.style.left="-1000px",x.current.style.top="-1000px"))}(t,e._id)}},c.a.createElement("img",{src:T.a,alt:"Menu icon"}))),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"Start date:"),c.a.createElement("span",null,new Date(e.startDate).toLocaleString())),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"End date:"),c.a.createElement("span",null,new Date(e.endDate).toLocaleString())))})):c.a.createElement("p",{className:"Quizzes__empty"}," No upcoming quizzes "))),c.a.createElement("section",{className:"Quizzes__section"},c.a.createElement("h2",null,"Previous Quizzes"),c.a.createElement("div",{className:"Quizzes__section__container"},(null===d||void 0===d?void 0:d.previousQuizzes.length)?d.previousQuizzes.map((function(e){return c.a.createElement("div",{className:"Quizzes__section__box vertical",key:e._id},c.a.createElement("div",{className:"Quizzes__section__box__header"},c.a.createElement("h3",null,c.a.createElement(i.b,{to:"/quiz/".concat(e._id)},e.name)),c.a.createElement("button",{onClick:function(t){return k(t,e._id)}},c.a.createElement("img",{src:T.a,alt:"Menu icon"})),c.a.createElement("span",{className:"Quizzes__section__box__header__statistics"},e.circles.length," circles, ",e.responses.length," ","responses")),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"Top member: "),e.topMember?c.a.createElement("span",null,e.topMember):c.a.createElement("span",{className:"unkown"}," Not known yet")),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"Top circle: "),e.topCircle?c.a.createElement("span",null,e.topCircle):c.a.createElement("span",{className:"unkown"}," Not known yet")),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"Start date:"),c.a.createElement("span",null,new Date(e.startDate).toLocaleString())),c.a.createElement("div",{className:"info"},c.a.createElement("p",null,"End date:"),c.a.createElement("span",null,new Date(e.endDate).toLocaleString())))})):c.a.createElement("p",{className:"Quizzes__empty"}," No quizzes previously "))),c.a.createElement("ul",{className:"menu",ref:_},c.a.createElement("li",null,c.a.createElement(i.b,{to:"/edit-quiz/".concat(h)},c.a.createElement("button",null,c.a.createElement("img",{src:F.a,alt:"Edit icon"}),"Edit Quiz"))),c.a.createElement("li",null,c.a.createElement("button",{onClick:function(){q({url:"/delete-quiz?quizId=".concat(h),method:"delete"})}},c.a.createElement("img",{src:Q.a,alt:"Delete icon"}),"Delete Quiz"))),c.a.createElement("ul",{className:"menu",ref:x},c.a.createElement("li",null,c.a.createElement("button",{onClick:function(){q({url:"/download?quizId=".concat(h),method:"get",options:"download"})}},c.a.createElement("img",{src:D.a,alt:"Download icon"}),"Download responses")),c.a.createElement("li",null,c.a.createElement(i.b,{to:"/standings/".concat(h)},c.a.createElement("button",null,c.a.createElement("img",{src:U.a,alt:"Standings icon"}),"Show standings"))))))},M=function(e){var t=e.logoOnly,a=e.name;return c.a.createElement("nav",{className:"Navbar"},c.a.createElement("h1",null,a),!t&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Hello to ",a," hope you all the luck and we all always with you")))},W=a(21),V=a.n(W),B=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!1),b=Object(m.a)(p,2),E=b[0],h=b[1],f=Object(n.useState)({}),v=Object(m.a)(f,2),O=v[0],j=v[1],w=Object(n.useState)({url:"",method:"get"}),q=Object(m.a)(w,2),x=q[0],_=q[1],z=Object(g.a)(["name"]),k=Object(m.a)(z,2),y=k[0],S=k[1],T=N({url:x.url,method:x.method,data:x.data,options:x.options}).data;Object(n.useEffect)((function(){y.token&&t.push("/admin"),"/auth"===x.url&&T&&(T.isFailed?j(T.errors):(S("token",T.data.token),t.push("/admin")))}),[y.token,t,T,x.url,S]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{name:"CodeQuizzey"}),c.a.createElement("main",{className:"Home"},c.a.createElement("img",{src:V.a,alt:"Illustrated svg"}),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),h(!0),l&&u&&_({url:"/auth",method:"post",data:{email:l,password:u},options:"No auth"})}(e)}},c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"email"},"Your email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){o(e.currentTarget.value),j({})}}),E&&(!l||(null===O||void 0===O?void 0:O.email))&&c.a.createElement("p",{className:"error"},"*",O.email||"You must type your email")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"password"},"Your password"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){d(e.currentTarget.value),j({})}}),E&&(!u||O.password)&&c.a.createElement("p",{className:"error"},"*",O.password||"You must type your email")),c.a.createElement("button",{className:"btn btn__outline",type:"submit"},"Login"))))},H=a(8),P=a(50),R=a.n(P),J=function(e){var t=e.history,a=Object(n.useState)([]),r=Object(m.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)({name:"",id:""}),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)([]),b=Object(m.a)(p,2),E=b[0],h=b[1],f=Object(n.useState)(""),v=Object(m.a)(f,2),O=v[0],j=v[1],w=Object(n.useState)(""),q=Object(m.a)(w,2),x=q[0],_=q[1],z=Object(n.useState)(!1),k=Object(m.a)(z,2),y=k[0],S=k[1],T=Object(n.useState)({}),C=Object(m.a)(T,2),F=C[0],I=C[1],Q=Object(n.useState)({url:"/",method:"get",options:"No auth"}),A=Object(m.a)(Q,2),D=A[0],Y=A[1],U=Object(g.a)(["email","circles","quiz"]),L=Object(m.a)(U,2),W=L[0],B=L[1],P=Object(n.useRef)(!1),J=N({url:D.url,method:D.method,data:D.data,options:D.options}).data;Object(n.useEffect)((function(){switch(W.email&&t.push("/question"),D.url){case"/":if("get"===D.method){J&&J.isFailed?(o([]),d({name:"",id:""})):J&&!J.isFailed&&(o(J.data.circles),d({name:J.data.quizName,id:J.data.quizId}));break}J.isFailed?I(J.error):(B("circles",[].concat(Object(H.a)(E),[{name:"Non-technical",id:J.data.nonTech}])),B("email",x),B("quiz",u),t.push("/question"))}return P.current||Y({url:"/",method:"get",options:"No auth"}),function(){P.current=!0}}),[W.email,t,J,E,x]);return c.a.createElement(c.a.Fragment,null,u.id?c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{name:u.name}),c.a.createElement("main",{className:"Home"},c.a.createElement("img",{src:V.a,alt:"Illustrated svg"}),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),S(!0),O&&x&&E.length&&Y({url:"/",method:"post",data:{name:O,email:x,circles:Object(H.a)(E.map((function(e){return e.id})))},options:"No auth"})}(e)}},c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"name"},"Your name"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){j(e.currentTarget.value),I({})}}),y&&(!O||F.name)&&c.a.createElement("p",{className:"error"},"*",F.name||"You must type your name")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"email"},"Your email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){_(e.currentTarget.value),I({})}}),y&&(!x||F.email)&&c.a.createElement("p",{className:"error"},"*",F.email||"You must type your email")),c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("label",null,"Technical circles"),c.a.createElement("span",null,"You can choose one or two circles only"),l.map((function(e){return c.a.createElement("div",{className:"checkbox-group__input",key:e._id},c.a.createElement("input",{type:"checkbox",name:"circle",id:e._id,"data-name":e.name,onClick:function(e){return function(e){var t={id:e.currentTarget.id,name:e.currentTarget.dataset.name};if(I({}),e.currentTarget.checked)2===E.length?e.preventDefault():h([].concat(Object(H.a)(E),[t]));else{var a=Object(H.a)(E),n=a.findIndex((function(e){return e===t}));a.splice(n,1),h(Object(H.a)(a))}}(e)}}),c.a.createElement("label",{htmlFor:e._id},c.a.createElement("span",null),e.name))})),y&&(!E.length||F.circle)&&c.a.createElement("p",{className:"error"},"*",F.circle||"You must choose one or two circles")),c.a.createElement("button",{className:"btn btn__outline",type:"submit"},"Next")))):c.a.createElement("div",{className:"Home__no-quiz"},c.a.createElement("img",{src:R.a,alt:"No quizzes"}),c.a.createElement("h1",null," Sorry, "),c.a.createElement("p",null," No quizzes available ")))},G=a(51),K=a.n(G),$=a(52),X=a.n($),Z=function(e){var t=e.question,a=e.answers,r=e.index,l=e.userAnswer,o=e.setUserAnswer,i=Object(n.useState)([]),s=Object(m.a)(i,2),u=s[0],d=s[1];return c.a.createElement("div",{className:"checkbox-group"},c.a.createElement("label",null," ",r,"- ",t," "),a.map((function(e,t){return c.a.createElement("div",{className:"checkbox-group__input",key:e},c.a.createElement("input",{type:"checkbox",name:"circle",id:"".concat(t),onChange:function(t){return function(e,t){var a=Object(H.a)(u);if(e.currentTarget.checked)a.push(t);else{var n=a.findIndex((function(e){return e===t}));a.splice(n,1)}d(a),o(a.join(","))}(t,e)},defaultChecked:!(!l||!l.split(",").find((function(t){return t===e}))),disabled:!!l}),c.a.createElement("label",{htmlFor:"".concat(t)},c.a.createElement("span",null),e))})))},ee=a(53),te=a.n(ee),ae=(a(83),a(84),a(85),a(86),a(87),a(88),function(e){var t,a=e.question,r=e.index,l=e.userAnswer,o=e.setUserAnswer,i=Object(n.useState)(""),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)("js"),b=Object(m.a)(p,2),E=b[0],h=b[1],f=Object(n.useRef)(null);Object(n.useEffect)((function(){te.a.highlightAll(),l&&d(l)}),[u,E,l]);return c.a.createElement("form",{className:"code"},c.a.createElement("div",{className:"code__header"},c.a.createElement("label",null," ",r,"- ",a," "),c.a.createElement("select",{name:"language",id:"language",onChange:function(e){return h(e.currentTarget.value)},defaultValue:"js"},c.a.createElement("option",{value:"js"},"Javascript"),c.a.createElement("option",{value:"ts"},"Typescript"),c.a.createElement("option",{value:"css"},"CSS"),c.a.createElement("option",{value:"html"},"HTML"),c.a.createElement("option",{value:"cs"},"C#"),c.a.createElement("option",{value:"java"},"Java"),c.a.createElement("option",{value:"python"},"Python"),c.a.createElement("option",{value:"go"},"Go"))),c.a.createElement("div",{className:"code-edit-container line-numbers",onScroll:function(){clearTimeout(t),f.current&&f.current.classList.contains("disable-hover")&&f.current.classList.remove("disable-hover"),t=setTimeout((function(){var e;return null===(e=f.current)||void 0===e?void 0:e.classList.add("disable-hover")}),500)}},c.a.createElement("textarea",{className:"code-input",name:"code",id:"code",value:u,onChange:function(e){d(e.currentTarget.value),o(e.currentTarget.value),e.currentTarget.rows=e.currentTarget.value.split("\n").length},onKeyDown:function(e){var t=u,a=e.currentTarget.selectionStart;"Tab"===e.key&&(t=t.substring(0,a)+"    "+t.substring(a),e.currentTarget.selectionStart=a+3,e.currentTarget.selectionEnd=a+4,e.preventDefault(),d(t))},rows:1,disabled:!!l}),c.a.createElement("pre",{className:"code-output disable-hover",ref:f},c.a.createElement("code",{className:"language-".concat(E)},u))))}),ne=function(e){var t=e.question,a=e.index,r=e.userAnswer,l=e.setUserAnswer,o=Object(n.useState)(""),i=Object(m.a)(o,2),s=i[0],u=i[1];Object(n.useEffect)((function(){u(r||"")}),[r]);return c.a.createElement("div",{className:"file-group"},c.a.createElement("label",{dangerouslySetInnerHTML:{__html:"".concat(a,"- ").concat(t)}}),c.a.createElement("div",{className:"file-group__input"},c.a.createElement("input",{type:"file",accept:".zip,.rar,.7zip",name:"answer",id:"answer",onChange:function(e){return function(e){var t=e.currentTarget.files&&e.currentTarget.files[0];u(t.name),l(t)}(e)},disabled:!!r}),c.a.createElement("label",{htmlFor:"answer"},r?c.a.createElement("a",{href:"http://localhost:4000/".concat(r)},"Download a file"):"Upload a file"),c.a.createElement("p",null,s)),c.a.createElement("span",null,"Allowed files are .zip files only. i.e. please zip your files before uploading them"))},ce=function(e){var t=e.question,a=e.index,n=e.userAnswer,r=e.setUserAnswer;return c.a.createElement("div",{className:"long-text-group"},c.a.createElement("label",{htmlFor:"answer"},a,"- ",t),c.a.createElement("textarea",{name:"answer",id:"answer",placeholder:"Answer...",onChange:function(e){return r(e.currentTarget.value)},disabled:!!n},n))},re=function(e){var t=e.question,a=e.answers,n=e.index,r=e.setUserAnswer,l=e.userAnswer;return c.a.createElement("div",{className:"radio-group"},c.a.createElement("label",null," ",n,"- ",t," "),a.map((function(e,t){return c.a.createElement("div",{className:"radio-group__input",key:e},c.a.createElement("input",{type:"radio",name:"circle",id:"".concat(t),onChange:function(){return r(e)},defaultChecked:!(!l||e!==l),disabled:!!l}),c.a.createElement("label",{htmlFor:"".concat(t)},c.a.createElement("span",null),e))})))},le=function(e){var t=e.question,a=e.index,n=e.userAnswer,r=e.setUserAnswer;return c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"answer"},a,"- ",t),c.a.createElement("input",{type:"text",name:"answer",id:"answer",onChange:function(e){return r(e.currentTarget.value)},disabled:!!n,defaultValue:n}))},oe=function(e){var t=e.question,a=e.index,r=e.answerType,l=e.answers,o=e.overlayBox,i=e.uAnswer,s=e.lastQuestion,u=e.nextQuestion,d=e.prevQuestion,p=e.submitQuestion,b=Object(n.useState)(""),E=Object(m.a)(b,2),h=E[0],f=E[1],g=t.replace(/(https?:\/\/[^\s]+)/g,(function(e){return"<a href=".concat(e,' target="_blank">').concat(e,"</a>")}));return c.a.createElement("div",{className:"Question__card"},t?"One choice"===r?c.a.createElement(re,{question:t,index:a,answers:l||[],setUserAnswer:f,userAnswer:i}):"Multiple choice"===r?c.a.createElement(Z,{question:t,index:a,answers:l||[],setUserAnswer:f,userAnswer:i}):"Code"===r?c.a.createElement(ae,{question:t,index:a,setUserAnswer:f,userAnswer:i}):"Long text"===r?c.a.createElement(ce,{question:t,index:a,setUserAnswer:f,userAnswer:i}):"Short text"===r?c.a.createElement(le,{question:t,index:a,setUserAnswer:f,userAnswer:i}):c.a.createElement(ne,{question:g,index:a,setUserAnswer:f,userAnswer:i}):c.a.createElement("p",{className:"Question__card__submitted"},a,"- This question submitted before"," "),!o&&c.a.createElement("div",{className:"Question__card__controls"},c.a.createElement("button",{className:"btn ".concat(1===a?"btn__disallow":"btn__solid"),onClick:d,disabled:1===a},c.a.createElement("img",{src:K.a,alt:"Icon left"}),"Back"),c.a.createElement("button",{className:"btn ".concat(t?"btn__outline":"btn__disallow"),onClick:function(){return p&&p(h)}}," ","Submit"),c.a.createElement("button",{className:"btn ".concat(s?"btn__disallow":"btn__solid"),onClick:u,disabled:s},"Next",c.a.createElement("img",{src:X.a,alt:"Icon right"}))))},ie=function(e){var t,a,r,l=e.location,o=e.history,i=Object(n.useState)({question:"",_id:"",answerType:"Short text",circleId:"",answers:[],index:1}),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(g.a)(["email","circles","quiz"]),b=Object(m.a)(p,1)[0],E=Object(n.useState)(""),h=Object(m.a)(E,2),f=h[0],v=h[1],O=Object(n.useState)(!1),j=Object(m.a)(O,2),w=j[0],q=j[1],x=Object(n.useState)(!1),_=Object(m.a)(x,2),z=_[0],k=_[1],y=function(e,t){b.email||o.push("/");var a=e||new URLSearchParams(l.search).get("circleId"),n=void 0!==t?t:new URLSearchParams(l.search).get("quNo");return[a?n?"/question?circle=".concat(a,"&quNo=").concat(n,"&email=").concat(b.email,"&quizId=").concat(b.quiz.id):"/question?circle=".concat(a,"&email=").concat(b.email,"&quizId=").concat(b.quiz.id):n?"/error":"/question?email=".concat(b.email,"&quizId=").concat(b.quiz.id),a]},S=Object(n.useState)({url:y()[0],method:"get",options:"No auth"}),T=Object(m.a)(S,2),C=T[0],F=T[1],I=N({url:C.url,method:C.method,data:C.data,options:C.options}).data;Object(n.useEffect)((function(){b.email||o.push("/"),k(!1);var e=y(),t=Object(m.a)(e,2),a=t[0],n=t[1];switch(C.url){case a:if("get"===C.method&&(v(n||b.circles.find((function(e){return"Non-technical"===e.name})).id),I))if(!I.isFailed&&I.data.question)d(I.data.question),I.data.lastQuestion?q(!0):q(!1);else if(I.isFailed&&I.errors.data){var c=I.errors.data;c.startsWith("Question")&&c.endsWith("solved")?(d({question:"",_id:"",answerType:"Short text",circleId:n,answers:[],index:+c.split(" ")[1]}),q(I.errors.lastQuestion)):"Wrong Circle id"===c||"Missing data"===c?o.push("/error"):"All questions solved"===c&&k(!0)}break;case"/question":"post"===C.method&&(I.isFailed?o.push("/error"):w?F({url:y(u.circleId)[0],method:"get"}):(o.push({pathname:"/question",search:"?circleId=".concat(u.circleId,"&quNo=").concat(u.index+1)}),F({url:y(u.circleId,"".concat(u.index+1))[0],method:"get",options:"No auth"})));break;case"/end-quiz?circle=".concat(f,"&email=").concat(b.email,"&quizId=").concat(b.quiz.id):I.isFailed?o.push("/error"):k(!0)}}),[l.search,b.email,b.circles,o,I]);var Q=function(e){o.push({pathname:"/question",search:"?circleId=".concat(e.currentTarget.dataset.id)}),F({url:y(e.currentTarget.dataset.id,"")[0],method:"get",options:"No auth"})};return b.email?c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{logoOnly:!0,name:b.quiz.name}),c.a.createElement("main",{className:"Question"},c.a.createElement("header",{className:"Question__btns"},null===(t=b.circles)||void 0===t?void 0:t.map((function(e){return c.a.createElement("button",{"data-id":e.id,key:e.id,onClick:Q,className:"".concat(f===e.id&&"active")},e.name," Questions")}))),z?c.a.createElement("p",{className:"end-quiz"}," This quiz ended "):c.a.createElement(c.a.Fragment,null,c.a.createElement(oe,{question:u.question,index:u.index,answerType:u.answerType,answers:u.answers,lastQuestion:w,prevQuestion:function(){o.push({pathname:"/question",search:"?circleId=".concat(u.circleId,"&quNo=").concat(u.index-1)}),F({url:y(u.circleId,"".concat(u.index-1))[0],method:"get",options:"No auth"})},nextQuestion:function(){o.push({pathname:"/question",search:"?circleId=".concat(u.circleId,"&quNo=").concat(u.index+1)}),F({url:y(u.circleId,"".concat(u.index+1))[0],method:"get",options:"No auth"})},submitQuestion:function(e){return function(e){var t=new FormData;t.append("answer",e),t.append("questionId",u._id),t.append("email",b.email),t.append("quizId",b.quiz.id),F({url:"/question",method:"post",data:t,options:"No auth"})}(e)}}),c.a.createElement("footer",null,c.a.createElement("button",{className:"btn btn__solid",onClick:function(){F({url:"/end-quiz?circle=".concat(f,"&email=").concat(b.email,"&quizId=").concat(b.quiz.id),method:"get",options:"No auth"})}},"End"," ",(null===(a=b.circles)||void 0===a||null===(r=a.find((function(e){return e.id===f})))||void 0===r?void 0:r.name)||"Non-technical"," ","Quiz"))))):c.a.createElement("p",null," ")},se=function(e){var t=e.data,a=e.action;return c.a.createElement("div",{className:"Modal"},c.a.createElement("div",null,c.a.createElement("p",null,t),c.a.createElement("button",{className:"btn btn__solid",onClick:a},"Next")))},ue=a(13),me=a.n(ue),de=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)(!1),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)({}),b=Object(m.a)(p,2),E=b[0],h=b[1],f=Object(n.useState)(!1),v=Object(m.a)(f,2),O=v[0],j=v[1],w=Object(n.useState)({url:"",method:"get"}),q=Object(m.a)(w,2),x=q[0],_=q[1],z=Object(g.a)(["token"]),k=Object(m.a)(z,3),S=k[0],T=k[2],C=N({url:x.url,method:x.method,data:x.data}).data;Object(n.useEffect)((function(){switch(S.token||t.push("/auth"),x.url){case"/add-circle":C.isFailed?(d(!0),h(C.errors)):!C.isFailed&&C.data&&C.data.success&&j(!0);break;case"/logout?token=".concat(S.token):C.isFailed||(T("token"),t.push("/auth"))}}),[S.token,t,C,x.url,T]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){_({url:"/logout?token=".concat(S.token),method:"get"})}}),c.a.createElement("main",{className:"Add-circle"},c.a.createElement("h2",null,"Add Circle"),c.a.createElement("img",{src:me.a,alt:"Illustrated svg of add circle"}),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),l?_({url:"/add-circle",method:"post",data:{name:l}}):d(!0)}(e)}},c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"name"},"Circle name"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){o(e.currentTarget.value),h({})}}),u&&(!l||E.circle)&&c.a.createElement("p",{className:"error"},"*",E.circle||"You must type circle name")),c.a.createElement("button",{className:"btn btn__outline",type:"submit"},"Add")),O&&c.a.createElement(se,{data:"You successfully add circle",action:function(){return t.push("/admin")}})))},pe=function(e){var t=e.history,a=e.match,r=Object(n.useState)(""),l=Object(m.a)(r,2),o=l[0],i=l[1],s=Object(n.useState)(""),d=Object(m.a)(s,2),p=d[0],b=d[1],E=Object(n.useState)(""),h=Object(m.a)(E,2),f=h[0],v=h[1],O=Object(n.useState)(!1),j=Object(m.a)(O,2),w=j[0],q=j[1],x=Object(n.useState)({}),_=Object(m.a)(x,2),z=_[0],k=_[1],S=Object(n.useState)(!1),T=Object(m.a)(S,2),C=T[0],F=T[1],I=Object(n.useState)({url:"",method:"get"}),Q=Object(m.a)(I,2),A=Q[0],D=Q[1],Y=Object(g.a)(["token"]),U=Object(m.a)(Y,3),L=U[0],M=U[2],W=N({url:A.url,method:A.method,data:A.data}).data,V="/edit-quiz/:id"===a.path?"edit":"add",B=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(Object(u.padStart)("".concat(t.getMonth()+1),2,"0"),"-").concat(Object(u.padStart)("".concat(t.getDate()),2,"0"),"T").concat(Object(u.padStart)("".concat(t.getHours()),2,"0"),":").concat(Object(u.padStart)("".concat(t.getMinutes()),2,"0"))};Object(n.useEffect)((function(){switch(L.token||t.push("/auth"),"edit"===V?D({url:"/edit-quiz?quizId=".concat(a.params.id),method:"get"}):(i(""),b(""),v("")),A.url){case"/edit-quiz?quizId=".concat(a.params.id):W&&!W.isFailed&&W.data.name&&(i(W.data.name),b(B(W.data.startDate)),v(B(W.data.endDate)));break;case"/add-quiz":W.isFailed?(k(W.errors),q(!0)):F(!0);break;case"/logout?token=".concat(L.token):W.isFailed||(M("token"),t.push("/auth"))}}),[L.token,t,V,a.params.id,W,A.url,M]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){D({url:"/logout?token=".concat(L.token),method:"get"})}}),c.a.createElement("main",{className:"Add-circle"},c.a.createElement("h2",null,"edit"===V?"Edit":"Add"," Quiz"),c.a.createElement("img",{src:me.a,alt:"Illustrated svg of add quiz"}),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),o&&p&&f||q(!0);var t="add"===V?{name:o,startDate:p,endDate:f}:{name:o,startDate:p,endDate:f,quizId:a.params.id};D({url:"/add-quiz",method:"post",data:t})}(e)}},c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"name"},"Quiz name"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){i(e.currentTarget.value),k({})},defaultValue:o}),w&&(!o||z.quiz)&&c.a.createElement("p",{className:"error"},"*",z.quiz||"You must type quiz name")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"start"},"Start date"),c.a.createElement("input",{type:"datetime-local",name:"start",id:"start",onChange:function(e){b(e.currentTarget.value),k({})},min:(new Date).toISOString().split(":").splice(0,2).join(":"),defaultValue:p}),w&&(!p||z.startDate)&&c.a.createElement("p",{className:"error"},"*",z.startDate||"You must choose start date")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"end"},"End date"),c.a.createElement("input",{type:"datetime-local",name:"end",id:"end",onChange:function(e){v(e.currentTarget.value),k({})},value:f,min:p||(new Date).toISOString().split(":").splice(0,2).join(":")}),w&&(!f||z.endDate)&&c.a.createElement("p",{className:"error"},"*",z.endDate||"You must choose end date")),c.a.createElement("button",{className:"btn btn__outline",type:"submit"},"add"===V?"Add":"Edit")),C&&c.a.createElement(se,{data:"You successfully ".concat("add"===V?"add":"edit"," quiz"),action:function(){return t.push("/admin")}})))},be=function(e){var t=e.history,a=Object(n.useState)(""),r=Object(m.a)(a,2),l=r[0],o=r[1],i=Object(n.useState)(""),s=Object(m.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(""),b=Object(m.a)(p,2),E=b[0],h=b[1],f=Object(n.useState)(!1),v=Object(m.a)(f,2),O=v[0],j=v[1],w=Object(n.useState)({}),q=Object(m.a)(w,2),x=q[0],_=q[1],z=Object(n.useState)(!1),k=Object(m.a)(z,2),S=k[0],T=k[1],C=Object(n.useState)({url:"",method:"get"}),F=Object(m.a)(C,2),I=F[0],Q=F[1],A=Object(g.a)(["token"]),D=Object(m.a)(A,3),Y=D[0],U=D[2],L=N({url:I.url,method:I.method,data:I.data}).data;Object(n.useEffect)((function(){switch(Y.token||t.push("/auth"),I.url){case"/add-admin":L.isFailed?(j(!0),_(L.errors)):T(!0);break;case"/logout?token=".concat(Y.token):L.isFailed||(U("token"),t.push("/auth"))}}),[Y.token,t,L,I.url,U]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){Q({url:"/logout?token=".concat(Y.token),method:"get"})}}),c.a.createElement("main",{className:"Add-circle"},c.a.createElement("h2",null,"Add Admin"),c.a.createElement("img",{src:me.a,alt:"Illustrated svg of add admin"}),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),l&&u&&E?Q({url:"/add-admin",method:"post",data:{name:l,email:u,password:E}}):j(!0)}(e)}},c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"name"},"Admin name"),c.a.createElement("input",{type:"text",name:"name",id:"name",onChange:function(e){o(e.currentTarget.value),_({})}}),O&&(!l||x.name)&&c.a.createElement("p",{className:"error"},"*",x.name||"You must type quiz name")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"email"},"Admin email"),c.a.createElement("input",{type:"email",name:"email",id:"email",onChange:function(e){d(e.currentTarget.value),_({})}}),O&&(!u||x.email)&&c.a.createElement("p",{className:"error"},"*",x.email||"You must choose start date")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"password"},"Admin password"),c.a.createElement("input",{type:"password",name:"password",id:"password",onChange:function(e){h(e.currentTarget.value),_({})}}),O&&(!E||x.password)&&c.a.createElement("p",{className:"error"},"*",x.password||"You must choose end date")),c.a.createElement("button",{className:"btn btn__outline",type:"submit"},"Add")),S&&c.a.createElement(se,{data:"You successfully add admin",action:function(){return t.push("/admin")}})))},Ee=function(e){var t=e.history,a=e.match,r=Object(g.a)(["token"]),l=Object(m.a)(r,3),o=l[0],s=l[2],u=Object(n.useState)([]),d=Object(m.a)(u,2),p=d[0],b=d[1],E=Object(n.useState)({name:"",state:""}),h=Object(m.a)(E,2),f=h[0],v=h[1],O=Object(n.useState)([]),j=Object(m.a)(O,2),q=j[0],z=j[1],S=Object(n.useState)(""),T=Object(m.a)(S,2),C=T[0],F=T[1],I=Object(n.useState)({url:"/quiz?quizId=".concat(a.params.id),method:"get"}),Q=Object(m.a)(I,2),A=Q[0],D=Q[1],Y=N({url:A.url,method:A.method}).data;Object(n.useEffect)((function(){switch(o.token||t.push("/auth"),A.url){case"/quiz?quizId=".concat(a.params.id):Y&&!Y.isFailed&&Y.data.quiz&&(b(Y.data.circles),z(Y.data.questions),v(Y.data.quiz));break;case"/delete-quiz?quizId=".concat(a.params.id):Y.isFailed||t.push("/admin");break;case"/delete-question?questionId=".concat(C):!Y.isFailed&&Y.data.success&&D({url:"/quiz?quizId=".concat(a.params.id),method:"get"});break;case"/logout?token=".concat(o.token):Y.isFailed||(s("token"),t.push("/auth"))}}),[o.token,t,a.params.id,Y,A.url,C,s]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){D({url:"/logout?token=".concat(o.token),method:"get"})}}),c.a.createElement("main",{className:"Quiz"},c.a.createElement("header",null,c.a.createElement("h2",null,null===f||void 0===f?void 0:f.name),c.a.createElement("p",null,null===f||void 0===f?void 0:f.state)),c.a.createElement("section",null,c.a.createElement("ul",null,p.map((function(e){return c.a.createElement("li",{key:e._id},"> ",e.name,c.a.createElement("ul",null,q.filter((function(t){return t.circleId.toString()===e._id.toString()})).map((function(e){return c.a.createElement("li",{key:e._id},e.index,"- ",e.question,"Upcoming quiz"===f.state&&c.a.createElement("span",null,c.a.createElement(i.b,{to:"/edit-question/".concat(e._id)},"Edit question"),c.a.createElement("button",{onClick:function(){return function(e){F(e),D({url:"/delete-question?questionId=".concat(e),method:"delete"})}(e._id)}},"Delete question")))}))))})))),c.a.createElement("footer",null,"Upcoming quiz"===f.state?c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{to:"/add-question/".concat(a.params.id)},c.a.createElement("button",{className:"btn btn__solid"},"Add question")),c.a.createElement(i.b,{to:"/edit-quiz/".concat(a.params.id)},c.a.createElement("button",{className:"btn btn__solid"},"Edit quiz")),c.a.createElement("button",{className:"btn btn__solid",onClick:function(){D({url:"/delete-quiz?quizId=".concat(a.params.id),method:"delete"})}},"Delete quiz")):c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{to:"/standings/".concat(a.params.id)},c.a.createElement("button",{className:"btn btn__solid"},"Show standings")),c.a.createElement("button",{className:"btn btn__solid",onClick:function(){Object(_.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("/download?quizId=".concat(a.params.id),{headers:{Authorization:"Bearer ".concat(o.token),"Content-Type":"application/octet-stream","Content-Disposition":"attachment",filename:"file.xlsx"},responseType:"blob"});case 2:t=e.sent,w()(t.data,"file.xlsx");case 4:case"end":return e.stop()}}),e)})))()}},"Download responses")))))},he=a(54),fe=a.n(he),ge=function(e){var t=e.history,a=e.match,r=Object(n.useState)(""),l=Object(m.a)(r,2),o=l[0],i=l[1],s=Object(n.useState)({name:"",_id:""}),u=Object(m.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)("Short text"),E=Object(m.a)(b,2),h=E[0],f=E[1],v=Object(n.useState)(["","","",""]),O=Object(m.a)(v,2),j=O[0],w=O[1],q=Object(n.useState)(),x=Object(m.a)(q,2),_=x[0],z=x[1],k=Object(n.useState)([]),S=Object(m.a)(k,2),T=S[0],C=S[1],F=Object(n.useState)(!1),I=Object(m.a)(F,2),Q=I[0],A=I[1],D=Object(n.useState)({}),Y=Object(m.a)(D,2),U=Y[0],L=Y[1],M=Object(n.useState)(!1),W=Object(m.a)(M,2),V=W[0],B=W[1],P=Object(n.useState)({url:"/add-question",method:"get"}),R=Object(m.a)(P,2),J=R[0],G=R[1],K=Object(g.a)(["token"]),$=Object(m.a)(K,3),X=$[0],Z=$[2],ee=N({url:J.url,method:J.method,data:J.data}).data,te="/edit-question/:id"===a.path?"edit":"add";Object(n.useEffect)((function(){switch(X.token||t.push("/auth"),J.url){case"/add-question":case"/edit-question":"get"===J.method?(ee&&!ee.isFailed&&C(ee.data),"edit"===te&&G({url:"/edit-question?questionId=".concat(a.params.id),method:"get"})):ee.isFailed?L(ee.errors):B(!0);break;case"/edit-question?questionId=".concat(a.params.id):ee.data&&ee.data.question&&!ee.isFailed?(p(ee.data.circle),i(ee.data.question.question),f(ee.data.question.answerType),z(ee.data.question.index),ee.data.question.answers?w(ee.data.question.answers):w(["","","",""])):ee.data&&!ee.isFailed&&C(ee.data);break;case"/get-Index?quizId=".concat(a.params.id,"&circleId=").concat(d._id):ee.isFailed||z(ee.data.index);break;case"/logout?token=".concat(X.token):ee.isFailed||(Z("token"),t.push("/auth"))}}),[X.token,t,ee,d._id,a.params.id,te,J.url,Z,J.method]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){G({url:"/logout?token=".concat(X.token),method:"get"})}}),c.a.createElement("main",{className:"Add-circle"},c.a.createElement("h2",null,"edit"===te?"Edit":"Add"," Question"),c.a.createElement("img",{src:fe.a,alt:"Illustrated svg of add question"}),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=j.filter((function(e){return""!==e}));if(o&&d&&h&&_&&("Multiple choice"!==h&&"One choice"!==h||!(t.length<2)))if("add"===te){var n={quizId:a.params.id,question:o,circleId:d._id,answerType:h,index:_};!t.length||"Multiple choice"!==h&&"One choice"!==h||(n.answers=t),G({url:"/add-question",method:"post",data:n})}else{var c={questionId:a.params.id,question:o,answerType:h};!t.length||"Multiple choice"!==h&&"One choice"!==h||(c.answers=t),G({url:"/edit-question",method:"post",data:c})}else A(!0)}(e)}},c.a.createElement("div",{className:"select-input"},c.a.createElement("label",{htmlFor:"circle"},"Circle"),c.a.createElement("select",{name:"circle",id:"circle",onChange:function(e){var t;t=e.currentTarget.value,G({url:"/get-Index?quizId=".concat(a.params.id,"&circleId=").concat(t),method:"get"}),p({_id:e.currentTarget.value,name:e.currentTarget.selectedOptions[0].textContent||""}),L({})},value:d._id,disabled:"edit"===te},c.a.createElement("option",{value:"",disabled:!0},"Choose circle"),T.map((function(e){return c.a.createElement("option",{value:e._id,key:e._id},e.name)}))),Q&&(!d._id||U.circle)&&c.a.createElement("p",{className:"error"},"*",U.circle||"You must choose circle name")),c.a.createElement("div",{className:"read-only-input"},c.a.createElement("label",{htmlFor:"index"},"Index"),c.a.createElement("p",{className:"input"},_),Q&&(!_||U.index)&&c.a.createElement("p",{className:"error"},"*",U.index||"You must choose circle name to specify index")),c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"question"},"Question"),c.a.createElement("input",{type:"text",name:"question",id:"question",onChange:function(e){i(e.currentTarget.value),L({})},defaultValue:o}),Q&&(!o||U.question)&&c.a.createElement("p",{className:"error"},"*",U.question||"You must type question")),c.a.createElement("div",{className:"select-input"},c.a.createElement("label",{htmlFor:"type"},"Answer type"),c.a.createElement("select",{name:"type",id:"type",onChange:function(e){f(e.currentTarget.value),L({})},value:h},c.a.createElement("option",{value:"",disabled:!0,defaultChecked:!0},"Choose answer type"),c.a.createElement("option",{value:"Multiple choice"},"Multiple choice"),c.a.createElement("option",{value:"One choice"},"One choice"),c.a.createElement("option",{value:"Short text"},"Short text"),c.a.createElement("option",{value:"Long text"},"Long text"),c.a.createElement("option",{value:"File"},"File"),c.a.createElement("option",{value:"Code"},"Code")),Q&&(!h||U.answerType)&&c.a.createElement("p",{className:"error"},"*",U.answerType||"You must choode answer type")),("Multiple choice"===h||"One choice"===h)&&c.a.createElement("div",{className:"text-input"},c.a.createElement("label",{htmlFor:"answer1"},"Answers",c.a.createElement("span",null,"You must type at least two answers")),c.a.createElement("input",{type:"text",name:"answer1",id:"answer1",onChange:function(e){var t=Object(H.a)(j);t[0]=e.currentTarget.value,w(t),L({})},defaultValue:j[0]}),c.a.createElement("input",{type:"text",name:"answer2",id:"answer2",onChange:function(e){var t=Object(H.a)(j);t[1]=e.currentTarget.value,w(t),L({})},defaultValue:j[1]}),c.a.createElement("input",{type:"text",name:"answer3",id:"answer3",onChange:function(e){var t=Object(H.a)(j);t[2]=e.currentTarget.value,w(t),L({})},defaultValue:j[2]}),c.a.createElement("input",{type:"text",name:"answer4",id:"answer4",onChange:function(e){var t=Object(H.a)(j);t[3]=e.currentTarget.value,w(t),L({})},defaultValue:j[3]}),Q&&(j.filter((function(e){return""!==e})).length<2||U.answers)&&c.a.createElement("p",{className:"error"},"*",U.answers||"You must type answers or change answer type")),c.a.createElement("button",{className:"btn btn__outline",type:"submit"},"add"===te?"Add":"Edit")),V&&c.a.createElement(se,{data:"add"===te?"You successfully add question":"You successfully edit question",action:function(){return t.push("/admin")}})))},ve=a(29),Oe=function(e){var t=e.match,a=e.history,r=Object(g.a)(["token"]),l=Object(m.a)(r,3),o=l[0],i=l[2],s=Object(n.useState)(),u=Object(m.a)(s,2),d=u[0],p=u[1],b=Object(n.useState)([]),E=Object(m.a)(b,2),h=E[0],f=E[1],v=Object(n.useState)({quizId:"",question:"",answers:[],_id:"",circleId:"",answerType:"Short text",index:1,userAnswer:""}),O=Object(m.a)(v,2),j=O[0],w=O[1],q=Object(n.useState)(!1),x=Object(m.a)(q,2),_=x[0],z=x[1],k=Object(n.useState)({name:"",state:""}),S=Object(m.a)(k,2),T=S[0],C=S[1],F=Object(n.useState)({url:"/responses?quizId=".concat(t.params.id),method:"get"}),I=Object(m.a)(F,2),Q=I[0],A=I[1],D=N({url:Q.url,method:Q.method}).data;Object(n.useEffect)((function(){switch(o.token||a.push("/auth"),Q.url){case"/responses?quizId=".concat(t.params.id):if(D&&D.data.responses&&!D.isFailed){p(D.data.responses);var e=new Set;D.data.responses.map((function(t){return t.solvedQuestions.map((function(t){return e.add(t.circle)}))})),f(Array.from(e)),C(D.data.quiz)}break;case"/logout?token=".concat(o.token):D.isFailed||(i("token"),a.push("/auth"))}}),[o.token,t.params.id,a,D,i,Q.url]);var Y=function(e,t){w(Object(ve.a)(Object(ve.a)({},e),{},{userAnswer:t})),z(!0)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{logout:function(){A({url:"/logout?token=".concat(o.token),method:"get"})}}),c.a.createElement("main",{className:"Standings"},c.a.createElement("header",null,c.a.createElement("h2",null,T.name),c.a.createElement("p",null,T.state)),c.a.createElement("div",{className:"Standings__table"},c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{className:"id"},"Id"),c.a.createElement("th",null,"Name"),c.a.createElement("th",null,"Email"),c.a.createElement("th",{className:"large"},"Circle"),c.a.createElement("th",{className:"id"},"Question index"),c.a.createElement("th",{className:"large"},"Question & answer"))),c.a.createElement("tbody",null,null===d||void 0===d?void 0:d.map((function(e,t){var a=!1;return h.map((function(n){var r=!1,l=e.solvedQuestions.filter((function(e){return e.circle===n}));if(l)return l.map((function(o){return a?r?c.a.createElement("tr",{key:o.questionId},c.a.createElement("td",null,o.questionDetails.index),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn__outline",onClick:function(){return Y(o.questionDetails,o.answer)}},"View answer"))):(r=!0,c.a.createElement("tr",{key:o.questionId},c.a.createElement("td",{rowSpan:l.length},n),c.a.createElement("td",null,o.questionDetails.index),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn__outline",onClick:function(){return Y(o.questionDetails,o.answer)}},"View answer")))):(a=!0,r=!0,c.a.createElement("tr",{key:o.questionId},c.a.createElement("td",{rowSpan:e.solvedQuestions.length},t+1),c.a.createElement("td",{rowSpan:e.solvedQuestions.length},e.name),c.a.createElement("td",{rowSpan:e.solvedQuestions.length},e.email),c.a.createElement("td",{rowSpan:l.length},n),c.a.createElement("td",null,o.questionDetails.index),c.a.createElement("td",null,c.a.createElement("button",{className:"btn btn__outline",onClick:function(){return Y(o.questionDetails,o.answer)}},"View answer"))))}))}))}))))),_&&c.a.createElement("div",{className:"Standings__question"},c.a.createElement("button",{className:"Standings__question__close",onClick:function(){return z(!1)}},"\xd7"),c.a.createElement(oe,{question:j.question,answerType:j.answerType,index:j.index,answers:j.answers,overlayBox:!0,uAnswer:j.userAnswer}))))};var je=function(){return c.a.createElement(i.a,null,c.a.createElement(O,null,c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/",component:J}),c.a.createElement(s.b,{exact:!0,path:"/question",component:ie}),c.a.createElement(s.b,{exact:!0,path:"/auth",component:B}),c.a.createElement(s.b,{exact:!0,path:"/admin",component:L}),c.a.createElement(s.b,{exact:!0,path:"/add-circle",component:de}),c.a.createElement(s.b,{exact:!0,path:"/add-quiz",component:pe}),c.a.createElement(s.b,{exact:!0,path:"/edit-quiz/:id",component:pe}),c.a.createElement(s.b,{exact:!0,path:"/add-admin",component:be}),c.a.createElement(s.b,{exact:!0,path:"/quiz/:id",component:Ee}),c.a.createElement(s.b,{exact:!0,path:"/add-question/:id",component:ge}),c.a.createElement(s.b,{exact:!0,path:"/edit-question/:id",component:ge}),c.a.createElement(s.b,{exact:!0,path:"/standings/:id",component:Oe}),c.a.createElement(s.b,{exact:!0,path:"/error",render:function(e){return c.a.createElement(v,e)}}),c.a.createElement(s.a,{to:{pathname:"/error",state:{status:404}}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(89);l.a.render(c.a.createElement(o.a,null,c.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[55,1,2]]]);